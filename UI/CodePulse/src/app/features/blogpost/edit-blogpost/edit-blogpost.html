<div class="container">

    <h1 class="mt-3">Edit Blog Post</h1>

    <form class="'mt-3" [formGroup]="editBlogPostForm" (ngSubmit)="onSubmit()">
        <div class="mb-3">
            <label class="'form-label">Title</label>
            <input type="text" class="form-control" formControlName="title">
        </div>
        <div class="mb-3">
            <label class="'form-label">Short Description</label>
            <input type="text" class="form-control" formControlName="shortDescription">
        </div>
        <div class="mb-3">

            <div class="d-flex flex-row">
                <div class="col p-2">
                    <label class="'form-label">Content</label>
                    <textarea class="form-control" formControlName="content" rows="12"></textarea>
                </div>
                <div class="col p-2" style="max-height: 360px; overflow-y: scroll;">
                    <markdown [data]="editBlogPostForm.controls.content.getRawValue()"></markdown>
                </div>
            </div>

            
        </div>
        <div class="mb-3">

            @if(editBlogPostForm.controls.featuredImageURL.getRawValue()){
                <div>
                    <img style="width: 100px;" class="my-2" [src]="editBlogPostForm.controls.featuredImageURL.getRawValue()"/>
                </div>
            }
            <label class="'form-label">Image URL</label>
            <input type="text" class="form-control" formControlName="featuredImageURL">
        </div>
        <div class="mb-3">
            <label class="'form-label">URL Handle</label>
            <input type="text" class="form-control" formControlName="urlHandle">
        </div>
        <div class="mb-3">
            <label class="'form-label">Created at</label>
            <input type="date" class="form-control" formControlName="createdAt">
        </div>
        <div class="mb-3">
            <label class="'form-label">Author</label>
            <input type="text" class="form-control" formControlName="author">
        </div>
        <div class="my-3">
            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="isVisible" checked formControlName="isVisible">         
                <label class="form-check-label" for="isVisible">Is Visible</label>
            </div>
        </div>
        <div class="mb-3">
            <label class="form-label">Categories</label>
            <select class="form-control" multiple formControlName="categories">
                @for (category of caregoriesResponse(); track category.id) {
                    <option [value]="category.id">{{category.name}}</option>//change to radio button
                }
            </select>
        </div>
        <div clas="mt-3">
            <button class="btn btn-primary" type="submit">Save</button>
            <button class="btn btn-dark" type="button" (click)="DeleteBlogPost()">Delete</button>
        </div>
    </form>

</div>